{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MonthlyComponent = class MonthlyComponent {\n  constructor(expensesService, modalService) {\n    this.expensesService = expensesService;\n    this.modalService = modalService;\n    this.expenses = [];\n    this.income = 0;\n    this.expense = 0;\n  }\n  ngOnInit() {\n    // Earlier\n    this.expensesService.getExpenses().subscribe(data => {\n      console.log('success', data);\n      this.expenses = data;\n      this.expense = data.filter(datum => datum.type === 'expense').map(i => i.amount).reduce((a, b) => a + b);\n      this.income = data.filter(datum => datum.type === 'income').map(i => i.amount).reduce((a, b) => a + b);\n    });\n  }\n  openModal() {\n    this.modalService.toggleModal();\n    this.subscription = this.modalService.showModal.subscribe(value => this.showModal = value);\n  }\n  addExpense(expense) {\n    this.expensesService.addExpense(expense).subscribe(expense => this.expenses.push(expense));\n  }\n};\nMonthlyComponent = __decorate([Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.css']\n})], MonthlyComponent);\nexport { MonthlyComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AAc/C,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAO3BC,YAAoBC,eAAgC,EAASC,YAA0B;IAAnE,oBAAe,GAAfD,eAAe;IAA0B,iBAAY,GAAZC,YAAY;IANzE,aAAQ,GAAc,EAAE;IAExB,WAAM,GAAU,CAAC;IACjB,YAAO,GAAU,CAAC;EAGwE;EAE1FC,QAAQ;IACN;IACA,IAAI,CAACF,eAAe,CAACG,WAAW,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACpDC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,IAAI,CAAC;MAC5B,IAAI,CAACG,QAAQ,GAAGH,IAAI;MAEpB,IAAI,CAACI,OAAO,GAAGJ,IAAI,CAChBK,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,KAAK,SAAS,CAAC,CAC3CC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CACpBC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;MAE1B,IAAI,CAACC,MAAM,GAAGd,IAAI,CACfK,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,KAAK,QAAQ,CAAC,CAC1CC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CACpBC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IAE5B,CAAC,CAAC;EACJ;EAEAE,SAAS;IAEP,IAAI,CAACnB,YAAY,CAACoB,WAAW,EAAE;IAC/B,IAAI,CAACC,YAAY,GAAC,IAAI,CAACrB,YAAY,CAACsB,SAAS,CAACnB,SAAS,CACpDoB,KAAc,IAAK,IAAI,CAACD,SAAS,GAACC,KAAK,CACzC;EACH;EACAC,UAAU,CAAChB,OAAe;IACxB,IAAI,CAACT,eAAe,CAACyB,UAAU,CAAChB,OAAO,CAAC,CAACL,SAAS,CAAEK,OAAO,IAAG,IAAI,CAACD,QAAQ,CAACkB,IAAI,CAACjB,OAAO,CAAC,CAAC;EAC5F;CACD;AAtCYX,gBAAgB,eAL5BD,SAAS,CAAC;EACT8B,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACW/B,gBAAgB,CAsC5B;SAtCYA,gBAAgB","names":["Component","MonthlyComponent","constructor","expensesService","modalService","ngOnInit","getExpenses","subscribe","data","console","log","expenses","expense","filter","datum","type","map","i","amount","reduce","a","b","income","openModal","toggleModal","subscription","showModal","value","addExpense","push","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/shelly/Downloads/expense-tracker/src/app/components/monthly/monthly.component.ts"],"sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\nimport { HttpClient } from '@angular/common/http';\nimport { Expense } from 'src/app/Expense';\nimport { Observable, Subscription } from 'rxjs';\nimport { ExpensesService } from 'src/app/services/expenses.service';\nimport { ModalService } from 'src/app/services/modal.service';\n\n\n@Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.css'],\n})\nexport class MonthlyComponent {\n  expenses: Expense[] = [];\n  showModal!: boolean;\n  income:number = 0;\n  expense:number = 0;\n  subscription!:Subscription;\n\n  constructor(private expensesService: ExpensesService,private modalService: ModalService) {}\n\n  ngOnInit(): void {\n    // Earlier\n    this.expensesService.getExpenses().subscribe((data) => {\n      console.log('success', data);\n      this.expenses = data;\n\n      this.expense = data\n        .filter((datum) => datum.type === 'expense')\n        .map((i) => i.amount)\n        .reduce((a, b) => a + b);\n        \n      this.income = data\n        .filter((datum) => datum.type === 'income')\n        .map((i) => i.amount)\n        .reduce((a, b) => a + b);\n    \n    });\n  }\n\n  openModal(): void {\n    \n    this.modalService.toggleModal();\n    this.subscription=this.modalService.showModal.subscribe(\n      (value: boolean) => this.showModal=value\n    )\n  }\n  addExpense(expense:Expense){\n    this.expensesService.addExpense(expense).subscribe((expense)=>this.expenses.push(expense));\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}