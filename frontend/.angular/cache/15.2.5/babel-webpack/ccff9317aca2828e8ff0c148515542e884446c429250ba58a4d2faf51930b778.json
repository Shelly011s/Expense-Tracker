{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MonthlyComponent = class MonthlyComponent {\n  constructor(expensesService, modalService) {\n    this.expensesService = expensesService;\n    this.modalService = modalService;\n    this.expenses = [];\n    this.showModal = false;\n    this.income = 0;\n    this.expense = 0;\n  }\n  ngOnInit() {\n    // Earlier\n    this.expensesService.getExpenses().subscribe(data => {\n      console.log('success', data);\n      this.expenses = data;\n      this.expense = data.filter(datum => datum.type === 'expense').map(i => i.amount).reduce((a, b) => a + b);\n      this.income = data.filter(datum => datum.type === 'income').map(i => i.amount).reduce((a, b) => a + b);\n    });\n  }\n  openModal() {\n    this.modalService.onOpenModal();\n    this.subscription = this.modalService.showModal.subscribe(value => this.showModal = value);\n  }\n  GetOutputVal(newX) {\n    this.showModal = newX;\n  }\n  deleteExpense(expense) {\n    this.expensesService.deleteExpense(expense).subscribe(() => this.expenses = this.expenses.filter(e => e.id !== expense.id));\n  }\n  addExpense(expense) {\n    this.expensesService.addExpense(expense).subscribe(expense => this.expenses.push(expense));\n  }\n};\nMonthlyComponent = __decorate([Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.css']\n})], MonthlyComponent);\nexport { MonthlyComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AAc/C,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAO3BC,YAAoBC,eAAgC,EAASC,YAA0B;IAAnE,oBAAe,GAAfD,eAAe;IAA0B,iBAAY,GAAZC,YAAY;IANzE,aAAQ,GAAc,EAAE;IACxB,cAAS,GAAY,KAAK;IAC1B,WAAM,GAAU,CAAC;IACjB,YAAO,GAAU,CAAC;EAGwE;EAE1FC,QAAQ;IACN;IACA,IAAI,CAACF,eAAe,CAACG,WAAW,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACpDC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,IAAI,CAAC;MAC5B,IAAI,CAACG,QAAQ,GAAGH,IAAI;MAEpB,IAAI,CAACI,OAAO,GAAGJ,IAAI,CAChBK,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,KAAK,SAAS,CAAC,CAC3CC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CACpBC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;MAE1B,IAAI,CAACC,MAAM,GAAGd,IAAI,CACfK,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,KAAK,QAAQ,CAAC,CAC1CC,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,MAAM,CAAC,CACpBC,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IAE5B,CAAC,CAAC;EACJ;EAEAE,SAAS;IACP,IAAI,CAACnB,YAAY,CAACoB,WAAW,EAAE;IAC/B,IAAI,CAACC,YAAY,GAAC,IAAI,CAACrB,YAAY,CAACsB,SAAS,CAACnB,SAAS,CACpDoB,KAAc,IAAK,IAAI,CAACD,SAAS,GAAGC,KAAK,CAC3C;EACH;EAEAC,YAAY,CAACC,IAAa;IACxB,IAAI,CAACH,SAAS,GAAGG,IAAI;EACzB;EAEEC,aAAa,CAAClB,OAAe;IAC3B,IAAI,CAACT,eAAe,CAAC2B,aAAa,CAAClB,OAAO,CAAC,CAACL,SAAS,CAAC,MAAK,IAAI,CAACI,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACE,MAAM,CAACkB,CAAC,IAAEA,CAAC,CAACC,EAAE,KAAKpB,OAAO,CAACoB,EAAE,CAAC,CAAC;EAC1H;EAEAC,UAAU,CAACrB,OAAe;IACxB,IAAI,CAACT,eAAe,CAAC8B,UAAU,CAACrB,OAAO,CAAC,CAACL,SAAS,CAAEK,OAAO,IAAG,IAAI,CAACD,QAAQ,CAACuB,IAAI,CAACtB,OAAO,CAAC,CAAC;EAC5F;CACD;AA9CYX,gBAAgB,eAL5BD,SAAS,CAAC;EACTmC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACWpC,gBAAgB,CA8C5B;SA9CYA,gBAAgB","names":["Component","MonthlyComponent","constructor","expensesService","modalService","ngOnInit","getExpenses","subscribe","data","console","log","expenses","expense","filter","datum","type","map","i","amount","reduce","a","b","income","openModal","onOpenModal","subscription","showModal","value","GetOutputVal","newX","deleteExpense","e","id","addExpense","push","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/shelly/Downloads/expense-tracker/src/app/components/monthly/monthly.component.ts"],"sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\nimport { HttpClient } from '@angular/common/http';\nimport { Expense } from 'src/app/Expense';\nimport { Observable, Subscription } from 'rxjs';\nimport { ExpensesService } from 'src/app/services/expenses.service';\nimport { ModalService } from 'src/app/services/modal.service';\n\n\n@Component({\n  selector: 'app-monthly',\n  templateUrl: './monthly.component.html',\n  styleUrls: ['./monthly.component.css'],\n})\nexport class MonthlyComponent {\n  expenses: Expense[] = [];\n  showModal: boolean = false;\n  income:number = 0;\n  expense:number = 0;\n  subscription!:Subscription;\n  editExpense!:Expense;\n  constructor(private expensesService: ExpensesService,private modalService: ModalService) {}\n\n  ngOnInit(): void {\n    // Earlier\n    this.expensesService.getExpenses().subscribe((data) => {\n      console.log('success', data);\n      this.expenses = data;\n\n      this.expense = data\n        .filter((datum) => datum.type === 'expense')\n        .map((i) => i.amount)\n        .reduce((a, b) => a + b);\n\n      this.income = data\n        .filter((datum) => datum.type === 'income')\n        .map((i) => i.amount)\n        .reduce((a, b) => a + b);\n    \n    });\n  }\n\n  openModal(): void {    \n    this.modalService.onOpenModal();\n    this.subscription=this.modalService.showModal.subscribe(\n      (value: boolean) => this.showModal = value\n    )\n  }\n  \n  GetOutputVal(newX: boolean): void  {\n    this.showModal = newX;\n}\n\n  deleteExpense(expense:Expense){\n    this.expensesService.deleteExpense(expense).subscribe(()=> this.expenses = this.expenses.filter(e=>e.id !== expense.id));\n  }\n\n  addExpense(expense:Expense){\n    this.expensesService.addExpense(expense).subscribe((expense)=>this.expenses.push(expense));\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}